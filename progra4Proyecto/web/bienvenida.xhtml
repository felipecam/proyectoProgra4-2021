<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"> 

    <h:head>
        <title>Bienvendio</title>
    </h:head>
    <h:body>

        <h:form>
            <h:outputLabel value="#{loginController.mensajeError}" style="color: red;" />
            <h:form>
                <div class="card">
                    <p:dataTable var="miCorreo" value="#{loginController.listaCorreo}" scrollable="true" scrollHeight="400"> 
                        <p:column headerText="Remitente" filterBy="#{miCorreo.remitente}">
                            <h:outputText value="#{miCorreo.remitente}" />
                        </p:column>

                        <p:column headerText="asunto" filterBy="#{miCorreo.asunto}">
                            <h:outputText value="#{miCorreo.asunto}" />
                        </p:column>

                        <p:column headerText="Fecha">
                            <h:outputText value="#{miCorreo.fecha}" />
                        </p:column>
                        <p:column headerText="Ver">
                            <h:commandButton id="verDetalle" value="Ver Detalle" action="#{loginController.editarCorreo(miCorreo)}"/>
                        </p:column>
                    </p:dataTable>
                </div>
                <h:commandButton id="refrescarCorreo" value="Refrescar"  action="#{loginController.actualizarCorreo()}"/> 
                <br /><br />
            </h:form>


            <h:panelGroup rendered="#{loginController.isEditarCorreo}">
                <p:panel header="Correo: #{loginController.correoData.asunto}" style="width:1000px">
                    <h:panelGrid columns="2" cellpadding="3">
                        De : <h:inputText style="width:900px" disabled="true" value="#{loginController.correoData.remitente}"/>
                        Asunto : <h:inputText  style="width:900px" disabled="true" value="#{loginController.correoData.asunto}"/>
                        Body : <h:inputTextarea style="width:900px" rows="15" cols="50" disabled="true" value="#{loginController.correoData.body}"/>
                        Fecha:  <h:inputText style="width:900px" disabled="true" value="#{loginController.correoData.fecha}"/>
                    </h:panelGrid>
                </p:panel>
            </h:panelGroup>
        </h:form>
        <h:form>
            <br /><br />
            <h:commandButton id="formularioid" value="Creacion Formulario" action="#{loginController.salir()}"/>
            <br /><br />
            <h:commandButton id="regresarId" value="Regresar al Login" action="#{loginController.salir()}"/> 
        </h:form>
    </h:body>
</html>

